(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(t,e,a){t.exports=a(26)},26:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),i=a(14),c=a.n(i),r=a(12),o=a(15),u=a(6),h=a(7),l=a(11),d=a(8),m=a(10),p=a(1),g=a(5),C=a(9),b=a.n(C),v=a(2),P=a.n(v),f=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(l.a)(this,Object(d.a)(e).call(this))).state={trackPace:"00:00",constPace:"00:00",cutPart:0,cutTime:0,trackId:"",cutsItemUpdate:[],isChangedPace:0},a.onPaceChange=a.onPaceChange.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(e,t),Object(h.a)(e,[{key:"onPaceChange",value:function(t){if(P.a.toS(t)>0){var e=this.state.trackId,a=P.a.toS(t)*this.state.cutPart*this.props.distance;this.setState({trackPace:t}),this.setState({cutTime:a}),this.setState({isChangedPace:1});this.state.cutsItemUpdate[e]={pace:t,cuttime:a},this.props.onCutPaceChange(e,t,a,1)}}},{key:"render",value:function(){var t=this.props,e=t.id,a=t.getTrackProps,n=t.source,i=t.pace,c=t.target,r=t.cutsItem,o=void 0===r?[]:r,u=t.trackIndex,h=this.state.constPace;return this.state.trackId=u,this.state.cutPart=(c.percent-n.percent)/100,this.state.cutsItemUpdate=this.props.cuts,1===this.props.isChangedTime||0===this.props.isChangedPaceProp?(this.state.constPace=i,this.state.cutTime=P.a.toS(this.state.constPace)*this.state.cutPart*this.props.distance,this.state.cutsItemUpdate[u]={pace:this.state.constPace,cuttime:this.state.cutTime}):1===this.props.isChangedPaceProp&&0===this.state.isChangedPace&&0===this.props.isChangedTime?(this.state.cutTime=P.a.toS(this.state.constPace)*this.state.cutPart*this.props.distance,this.state.cutsItemUpdate[u]={pace:h,cuttime:this.state.cutTime},this.props.updateChangeTime(0)):1===this.props.isChangedPaceProp&&1===this.state.isChangedPace&&0===this.props.isChangedTime&&(this.state.cutTime=P.a.toS(this.state.trackPace)*this.state.cutPart*this.props.distance,this.state.cutsItemUpdate[u]={pace:this.state.trackPace,cuttime:this.state.cutTime}),o[u]=this.state.cutsItemUpdate[u],this.props.updateChangeTime(0),s.a.createElement("div",{key:e,"data-pace":this.state.cutsItemUpdate[u].pace,"data-cuttime":this.state.cutsItemUpdate[u].cuttime,"data-id":u},s.a.createElement("div",Object.assign({style:{position:"absolute",height:10,zIndex:1,marginTop:35,backgroundColor:"#546C91",borderRadius:5,cursor:"pointer",left:"".concat(n.percent,"%"),width:"".concat(c.percent-n.percent,"%")}},a())),s.a.createElement("div",{style:{fontFamily:"Roboto",fontSize:11,marginTop:0,left:"".concat(n.percent+1,"%"),position:"absolute"}},s.a.createElement(b.a,{value:this.state.cutsItemUpdate[u].pace,style:{width:50},onChange:this.onPaceChange})))}}]),e}(n.Component),T={position:"relative",width:"100%",height:80,border:"1px solid steelblue"},k={position:"absolute",width:"100%",height:10,marginTop:35,borderRadius:5,backgroundColor:"#8B9CB6"};function E(t){var e=t.handle,a=e.id,n=e.value,i=e.percent,c=t.getHandleProps;return s.a.createElement("div",Object.assign({style:{left:"".concat(i,"%"),position:"absolute",marginLeft:-15,marginTop:25,zIndex:2,width:30,height:30,border:0,textAlign:"center",cursor:"pointer",borderRadius:"50%",backgroundColor:"#2C4870",color:"#333"}},c(a)),s.a.createElement("div",{style:{fontFamily:"Roboto",fontSize:11,marginTop:-35}},n.toFixed(2)))}function S(t,e,a){if(t>0)return P.a.fromS(e/t)}function y(t){var e=t.tick,a=t.count;return s.a.createElement("div",null,s.a.createElement("div",{style:{position:"absolute",marginTop:52,marginLeft:-.5,width:1,height:8,backgroundColor:"silver",left:"".concat(e.percent,"%")}}),s.a.createElement("div",{style:{position:"absolute",marginTop:60,fontSize:10,textAlign:"center",marginLeft:"".concat(-100/a/2,"%"),width:"".concat(100/a,"%"),left:"".concat(e.percent,"%")}},e.value))}var j=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(l.a)(this,Object(d.a)(e).call(this,t))).onCutPaceChange=function(t,e,n,s){var i=Object(o.a)(a.state.cuts);i[t]={pace:e,cuttime:n},a.state.cuts=i;for(var c=0;c<a.state.cuts.length;c++)a.state.newTimeSec+=parseInt(a.state.cuts[c].cuttime);a.state.time=P.a.fromS(a.state.newTimeSec,"hh:mm:ss"),a.setState({newTimeSec:0}),a.state.isChangedPaceProp=s},a.onCutMove=function(){for(var t=0;t<a.state.cuts.length;t++)a.state.newCutTimeSec+=parseInt(a.state.cuts[t].cuttime);a.state.time=P.a.fromS(a.state.newCutTimeSec,"hh:mm:ss"),a.setState({newCutTimeSec:0})},a.updateChangeTime=function(t){a.state.isChangedTime=t},a.state={distance:10,time:"00:40:00",pace:"00:00",cutsCount:2,distanceCuts:[1],cutChanged:"",cuts:[],newTracks:[],newTimeSec:0,newCutTimeSec:0,isChangedTime:0,isChangedPaceProp:0},a.handleInputChange=a.handleInputChange.bind(Object(p.a)(Object(p.a)(a))),a.onTimeChange=a.onTimeChange.bind(Object(p.a)(Object(p.a)(a))),a.onCutsChange=a.onCutsChange.bind(Object(p.a)(Object(p.a)(a))),a.onCutPaceChange=a.onCutPaceChange.bind(Object(p.a)(Object(p.a)(a))),a.onCutMove=a.onCutMove.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(e,t),Object(h.a)(e,[{key:"handleInputChange",value:function(t){var e=t.target,a="checkbox"===e.type?e.checked:e.value,n=e.name;this.setState(Object(r.a)({},n,parseFloat(a)))}},{key:"onTimeChange",value:function(t){this.setState({time:t}),S(this.state.distance,P.a.toS(this.state.time)),this.setState({isChangedTime:1})}},{key:"onCutsChange",value:function(t){var e,a=t.target,n="checkbox"===a.type?a.checked:a.value,s=a.name,i=[];if(parseInt(n)>0)for(var c=1;c<parseInt(n);c++)i.push(c);this.setState((e={},Object(r.a)(e,s,parseInt(n)),Object(r.a)(e,"distanceCuts",i),e))}},{key:"render",value:function(){var t=this,e=S(this.state.distance,P.a.toS(this.state.time)),a=[];return this.state.cuts=a,this.state.pace=e,s.a.createElement("div",{style:{height:120,width:"80%",marginTop:"50px"}},s.a.createElement(g.c,{rootStyle:T,domain:[0,this.state.distance],step:.1,mode:2,values:this.state.distanceCuts,onSlideEnd:this.onCutMove},s.a.createElement(g.b,null,function(t){var e=t.getRailProps;return s.a.createElement("div",Object.assign({style:k},e()))}),s.a.createElement(g.a,null,function(t){var e=t.handles,a=t.getHandleProps;return s.a.createElement("div",{className:"slider-handles"},e.map(function(t){return s.a.createElement(E,{key:t.id,handle:t,getHandleProps:a})}))}),s.a.createElement(g.e,null,function(n){var i=n.tracks,c=n.getTrackProps;return s.a.createElement("div",{className:"slider-tracks"},i.map(function(n,i){var r=n.id,o=n.source,u=n.target;return s.a.createElement(f,{key:r,source:o,target:u,getTrackProps:c,distance:t.state.distance,formatTime:P.a.toS(t.state.time),pace:e,onCutPaceChange:t.onCutPaceChange,cutsItem:a,cuts:t.state.cuts,cutsCount:t.state.cutsCount,trackIndex:i,isChangedTime:t.state.isChangedTime,isChangedPaceProp:t.state.isChangedPaceProp,updateChangeTime:t.updateChangeTime,onCutMove:t.onCutMove})}))}),s.a.createElement(g.d,{count:this.state.distance},function(t){var e=t.ticks;return s.a.createElement("div",{className:"slider-ticks"},e.map(function(t){return s.a.createElement(y,{key:t.id,tick:t,count:e.length})}))})),s.a.createElement("div",null,s.a.createElement("form",null,s.a.createElement("label",null,"\u0414\u0438\u0441\u0442\u0430\u043d\u0446\u0438\u044f:",s.a.createElement("input",{name:"distance",type:"number",style:{width:100},value:this.state.distance,onChange:this.handleInputChange})),s.a.createElement("br",null),s.a.createElement("label",null,"\u0426\u0435\u043b\u0435\u0432\u043e\u0435 \u0432\u0440\u0435\u043c\u044f:",s.a.createElement(b.a,{value:this.state.time,showSeconds:!0,style:{width:100},onChange:this.onTimeChange})),s.a.createElement("br",null),s.a.createElement("label",null,"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0442\u0435\u043c\u043f: ",e),s.a.createElement("br",null),s.a.createElement("label",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0442\u0440\u0435\u0437\u043a\u043e\u0432:",s.a.createElement("input",{name:"cutsCount",type:"number",style:{width:100},value:this.state.cutsCount,onChange:this.onCutsChange,min:1})))))}}]),e}(n.Component);a(25);c.a.render(s.a.createElement(j,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.9ce64c00.chunk.js.map